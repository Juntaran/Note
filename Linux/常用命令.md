# Linux常用命令

*2017.6.7*

## 系统版本信息

命令： uname -a  
作用： 查看系统内核版本号及系统名称，  
`Linux ubuntu 4.10.0-22-generic #24-Ubuntu SMP Mon May 22 17:43:20 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux`   

命令： uname -s
作用： 显示内核名称，`Linux`  

命令： uname -n  
作用： 显示主机名称，`ubuntu`  

命令： uname -r  
作用： 显示内核发行版号，`4.10.0-22-generic`  

命令： uname -v  
作用： 显示操作系统具体版本，`#24-Ubuntu SMP Mon May 22 17:43:20 UTC 2017`  

命令： uname -m  
作用： 显示机器硬件名称，`x86_64`  

命令： uname -p  
作用： 显示处理器类型，`x86_64`  

命令： uname -i  
作用： 显示硬件平台名称，`x86_64`  

命令： uname -o  
作用： 操作系统名称，`GNU/Linux`  

命令： cat /proc/version    
作用： 查看目录"/proc"下version的信息，也可以得到当前系统的内核版本号及系统名称，  
`Linux version 4.10.0-22-generic (buildd@lcy01-08) (gcc version 6.3.0 20170406 (Ubuntu 6.3.0-12ubuntu2) ) #24-Ubuntu SMP Mon May 22 17:43:20 UTC 2017`  

命令： lsb_release -c  
作用： 查看系统代号，比如ubuntu 12.04为precise， 14.04为trusty，15.04为vivid，15.10为wily，17.04为zesty。`Codename:	zesty`  

命令： lsb_release -a  
作用： 显示系统信息以及代号  
`No LSB modules are available.`    
`Distributor ID:	Ubuntu`  
`Description:	Ubuntu 17.04`  
`Release:	17.04`  
`Codename:	zesty`  

命令： lisb_release -d
作用： 显示系统号，`Description:	Ubuntu 17.04`

命令： cat /etc/issue  
作用： 显示系统号，`Ubuntu 17.04 \n \l`


## 关机

命令： shutdown -h now  
作用： 立即关机  

命令： shutdown -r now  
作用： 立即重启  

命令： shutdown -h 23:30  
作用： 在23:30分准时关机  

命令： shutdown -h +15  
作用： 15分钟后关机  

命令： shutdown -k now “Server would shutdown in 15minutes\!”  
作用： 给出关机警告，不关机  

命令： halt -p  
作用： 关机并关闭电源  

命令： halt -d  
作用： 关机，不会在日志里留下记录  

命令： halt -w  
作用： 不会关机，会把关机事件写入`/var/log/wtmp`  

命令： reboot  
作用： 重启系统  

命令： poweroff  
作用： 关机并且切断电源  

命令： init 6  
作用： 重启  

命令： init 0  
作用： 关机  


## 查看硬件信息

命令： dmidecode  
作用： 列出所有硬件信息  

命令： dmidecode -t  
作用： 列出硬件类型  

命令： dmidecode -t 硬件类型  
作用： 根据硬件类型展示相应的硬件信息  


## 我是谁

命令： whoami  
作用： 显示当前操作用户的用户名  
`juntaran`  

命令： who am i  
作用： 显示登入系统用户的用户名，以及登录时间（只要有2个参数即可，无所谓是不是 am 和 i）  
`juntaran pts/0        2017-06-20 14:47 (192.168.126.1)`  

命令： who (-H)  
作用： 显示所有登入系统的用户的用户名，以及登录时间。-H 会加上列名  
| USER  | LINE  | TIME  | COMMENT  |
|---|---|---|---|
| juntaran  | pts/0  | 2017-06-20 14:47  | (192.168.126.1)  |
| juntaran  | tty/7  | 2017-06-16 20:12  | (:0)  |
| juntaran  | pts/1  | 2017-06-20 14:52  | (192.168.126.1)  |


命令： who -b  
作用： 显示系统上一次启动时间  
`system boot  2017-06-16 20:10`  

命令： w  
作用： `who`显示的是`show who is logged on`，`w`显示的是`show who is logged on and what they are doing`  
| USER  | TTY  | FROM  | LOGIN@  | IDLE  | JCPU  | PCPU  | WHAT  |
|---|---|---|---|---|---|---|---|
| juntaran  | pts/0  | 192.168.126.1  | 14:47  | 0.00s  | 0.17s  | 0.00s  | w  |
| juntaran  | tty/7  | :0  | Fri20  | 3days  | 57.27s  | 0.04s  | /bin/sh /usr/lib/gnome-session/run-systemd-session  |
| juntaran  | pts/1  | 192.168.126.1  | 14:52  | 44:28  | 0.03s  | 0.03s  | top  |
在运行`w`命令时，`pts/0`终端的`WHAT`显示了正在执行`w`，而另一个终端正在执行的`top`命令也被记录了  
另外，`JCPU`指的是与该tty终端连接的所由进程占用的时间，不包括过去的后台作业时间  
`PCPU`指的是当前进程（即w项中显示的）所占用的时间  


